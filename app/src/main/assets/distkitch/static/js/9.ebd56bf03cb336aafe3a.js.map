{"version":3,"sources":["webpack:///./src/views/webLoginRoki/index.vue?0705","webpack:///src/views/webLoginRoki/index.vue","webpack:///./src/views/webLoginRoki/index.vue?af73","webpack:///./src/views/webLoginRoki/index.vue","webpack:///./src/api/lineViewsFromRokiApp.js","webpack:///./src/views/webLoginRoki/index.vue?63b2"],"names":["module","exports","__webpack_require__","push","i","version","sources","names","mappings","file","sourcesContent","sourceRoot","webLoginRoki","name","components","data","phone","vercode","isDisabled","codeText","checked","mounted","window","scrollTo","console","log","this","$route","query","methods","getVerCode","_this","trim","Object","utils","countDown","WebLoginRoki","then","res","$toast","time","_this2","setTimeout","gotoLogin","_this3","length","test","loginType","sjhm","smsCode","password","accessToken","refreshToken","openId","client_id","client_secret","appType","access_token","date","Date","getTime","expires_in","auth","refresh_token","token","getUserInfo","_this4","_$route$query","lastLabel","mutiId","localStorage","setItem","stringify_default","user","id","lineViewsFromRokiApp","userId","$router","go","replace","render","_vm","_h","$createElement","_c","_self","_m","_v","staticClass","directives","rawName","value","expression","attrs","autocomplete","type","placeholder","maxlength","domProps","on","input","$event","target","composing","class","disabled-style","disabled","readonly","click","staticStyle","font-size","font-weight","color","size","round","icon-size","model","callback","$$v","_withStripped","esExports","staticRenderFns","margin-left","href","views_webLoginRoki","disposed","Component","normalizeComponent","ssrContext","options","__file","__webpack_exports__","regularReq","url","method","__WEBPACK_IMPORTED_MODULE_0__utils_request__","content","locals"],"mappings":"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","file":"static/js/9.ebd56bf03cb336aafe3a.js","sourcesContent":["exports = module.exports = require(\"../../../node_modules/css-loader/lib/css-base.js\")(true);\n// imports\n\n\n// module\nexports.push([module.id, \"\\ninput[data-v-4f5b068d]:-webkit-autofill{-webkit-box-shadow:0 0 0px 1000px #fff inset !important\\n}\\n.title[data-v-4f5b068d]{text-align:left;font-size:24px;font-family:PingFang SC-Bold,PingFang SC;font-weight:bold;color:#222;margin:0px 28px 74px;line-height:28px;padding-top:73px\\n}\\n.phone[data-v-4f5b068d],.code[data-v-4f5b068d]{margin:0 28px;border-bottom:1px solid #e5e5e5;font-size:16px;font-family:PingFang SC;font-weight:500;color:#333\\n}\\n.code[data-v-4f5b068d]{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between;-webkit-box-align:center;-ms-flex-align:center;align-items:center\\n}\\n.phone .phone-input[data-v-4f5b068d]{width:100%;border:none;padding:19px 0;outline:none\\n}\\n.code .veri-input[data-v-4f5b068d]{border:none;padding:19px 0;outline:none;-webkit-box-flex:1;-ms-flex:1;flex:1\\n}\\n.code .veri-btn[data-v-4f5b068d]{width:130px;height:30px;background:rgba(239,206,23,.1);border-radius:15px;border:none;font-size:14px;font-family:PingFang SC;font-weight:500;color:#efaa17;-webkit-box-flex:0;-ms-flex:0 0 130px;flex:0 0 130px;outline:none;text-align:center\\n}\\n.login-btn[data-v-4f5b068d]{width:90%;height:45px;background:#f2b33e;border-radius:22px;font-size:16px;font-family:PingFang SC;font-weight:500;color:#fff;line-height:45px;text-align:center;margin:35px auto 20px;outline:none;border:none\\n}\\n.code .disabled-style[data-v-4f5b068d]{background-color:#b3b3b3;color:#fff\\n}\\n.protol-box[data-v-4f5b068d]{font-size:12px;font-family:PingFang SC;font-weight:400;color:#333;margin-left:43px;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center\\n}\\n.protol[data-v-4f5b068d]{color:#efaa17\\n}\\n.keep-btn[data-v-4f5b068d]{padding:35px 28px 20px;font-size:17px;font-family:Roboto-Regular,Roboto;font-weight:400\\n}\", \"\", {\"version\":3,\"sources\":[\"D:/projects/robam/h5-vue-update/src/views/webLoginRoki/D:/projects/robam/h5-vue-update/src/views/webLoginRoki/index.vue\"],\"names\":[],\"mappings\":\";AAsLA,wCACI,uDAAA;CAEJ;AAAA,wBACG,gBACC,eACA,yCACA,iBACA,WACA,qBACA,iBACA,gBAAA;CAEH;AAAA,+CACO,cAEA,gCACA,eACA,wBACA,gBACA,UAAA;CAEJ;AAAA,uBACI,oBAAA,oBAAA,aACA,yBAAA,sBAAA,8BACA,yBAAA,sBAAA,kBAAA;CAEJ;AAAA,qCACI,WACA,YACA,eACA,YAAA;CAEJ;AAAA,mCACI,YACA,eACA,aACA,mBAAA,WAAA,MAAA;CAEJ;AAAA,iCACI,YACA,YACA,+BACA,mBACA,YACA,eACA,wBACA,gBACA,cACA,mBAAA,mBAAA,eACA,aACA,iBAAA;CAEJ;AAAA,4BACI,UACA,YACA,mBACA,mBACA,eACA,wBACA,gBACA,WACA,iBACA,kBACA,sBACA,aACA,WAAA;CAEJ;AAAA,uCACI,yBACA,UAAA;CAEJ;AAAA,6BACI,eACA,wBACA,gBACA,WACA,iBACA,oBAAA,oBAAA,aAEA,yBAAA,sBAAA,kBAAA;CAEJ;AAAA,yBACI,aAAA;CAEJ;AAAA,2BACA,uBACA,eACA,kCACA,eAAA;CAAA\",\"file\":\"index.vue\",\"sourcesContent\":[\"\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\r\\ninput:-webkit-autofill {\\r\\n    -webkit-box-shadow: 0 0 0px 1000px white inset !important;\\r\\n}\\r\\n.title{\\r\\n   text-align:left;\\r\\n    font-size: 24px;\\r\\n    font-family: PingFang SC-Bold, PingFang SC;\\r\\n    font-weight: bold;\\r\\n    color: #222222;\\r\\n    margin:0px 28px 74px;\\r\\n    line-height: 28px;\\r\\n    padding-top: 73px;\\r\\n}\\r\\n .phone,.code{\\r\\n        margin: 0 28px;\\r\\n        // height: 60px;\\r\\n        border-bottom: 1px solid #E5E5E5;\\r\\n        font-size: 16px;\\r\\n        font-family: PingFang SC;\\r\\n        font-weight: 500;\\r\\n        color: #333333;\\r\\n    }\\r\\n    .code{\\r\\n        display: flex;\\r\\n        justify-content: space-between;\\r\\n        align-items: center;\\r\\n    }\\r\\n    .phone .phone-input{\\r\\n        width: 100%;\\r\\n        border: none;\\r\\n        padding: 19px 0;\\r\\n        outline: none;\\r\\n    }\\r\\n    .code .veri-input{\\r\\n        border: none;\\r\\n        padding: 19px 0;\\r\\n        outline: none;\\r\\n        flex: 1;\\r\\n    }\\r\\n    .code .veri-btn{\\r\\n        width: 130px;\\r\\n        height: 30px;\\r\\n        background: rgba(239, 206, 23, 0.1);\\r\\n        border-radius: 15px;\\r\\n        border: none;\\r\\n        font-size: 14px;\\r\\n        font-family: PingFang SC;\\r\\n        font-weight: 500;\\r\\n        color: #EFAA17;\\r\\n        flex: 0 0 130px;\\r\\n        outline: none;\\r\\n        text-align: center;\\r\\n    }\\r\\n    .login-btn{\\r\\n        width: 90%;\\r\\n        height: 45px;\\r\\n        background: #F2B33E;\\r\\n        border-radius: 22px;\\r\\n        font-size: 16px;\\r\\n        font-family: PingFang SC;\\r\\n        font-weight: 500;\\r\\n        color: #fff;\\r\\n        line-height:45px;\\r\\n        text-align:center;\\r\\n        margin: 35px auto 20px;\\r\\n        outline: none;\\r\\n        border: none;\\r\\n    }\\r\\n    .code .disabled-style{\\r\\n        background-color:#b3b3b3;\\r\\n        color:#fff;\\r\\n    }\\r\\n    .protol-box{\\r\\n        font-size: 12px;\\r\\n        font-family: PingFang SC;\\r\\n        font-weight: 400;\\r\\n        color: #333333;\\r\\n        margin-left: 43px;\\r\\n        display:flex;\\r\\n        //justify-content: center;\\r\\n        align-items: center;\\r\\n    }\\r\\n    .protol{\\r\\n        color: #EFAA17;\\r\\n    }\\r\\n    .keep-btn{\\r\\n    padding:35px 28px 20px;\\r\\n    font-size: 17px;\\r\\n    font-family: Roboto-Regular, Roboto;\\r\\n    font-weight: 400;\\r\\n    }\\r\\n\\r\\n\"],\"sourceRoot\":\"\"}]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/css-loader?{\"sourceMap\":true}!./node_modules/vue-loader/lib/style-compiler?{\"vue\":true,\"id\":\"data-v-4f5b068d\",\"scoped\":true,\"hasInlineConfig\":false}!./node_modules/sass-loader/dist/cjs.js?{\"sourceMap\":true}!./node_modules/vue-loader/lib/selector.js?type=styles&index=0!./src/views/webLoginRoki/index.vue\n// module id = 4BFE\n// module chunks = 9","<template>\r\n    <div>\r\n        <div class='title'>你好，<br/>欢迎登录ROKI</div>\r\n            <div class=\"phone\">\r\n                <input  v-model='phone' autocomplete=\"off\" class=\"phone-input\" type=\"tel\" name=\"sjhm\" placeholder=\"请输入手机号(新号码自动注册)\" maxlength=\"11\" id=\"mobileVal\"/>\r\n            </div>\r\n            <div class=\"code\">\r\n                <input v-model='vercode' placeholder=\"请输入验证码\" autocomplete=\"off\" class=\"veri-input\" maxlength=\"6\" id=\"verifyVal\"/>\r\n                <input @click='getVerCode' class=\"veri-btn\" :value=\"codeText\" :disabled=\"isDisabled\" :class=\"{'disabled-style':isDisabled}\" readonly/>\r\n            </div>\r\n            <div class=\"login-box\">\r\n                <!-- <input class=\"login-btn\" type=\"submit\" value=\"登录\" @click='gotoLogin'/> -->\r\n                <div class='keep-btn'>\r\n                    <van-button color=\"#F2B33E\" size='large' :round='true' style='font-size:17px;font-weight:400' @click='gotoLogin'>登录</van-button>\r\n                </div>\r\n            </div>\r\n            <div class=\"protol-box\">\r\n                <van-checkbox v-model=\"checked\" icon-size=\"14px\">       \r\n                </van-checkbox>\r\n                <div style='margin-left:6px;'>\r\n                    <span>已阅读并同意</span><span class=\"protol\"><a href='https://h5.myroki.com/userAgreement/userNotice.html'>《ROKI用户协议》</a></span>和<span class=\"protol\"><a href='https://h5.myroki.com/userAgreement/registerAgreement.html'>《隐私政策》</a></span>\r\n                </div>\r\n            </div>\r\n        <!-- <div @click='redir'>ceshi</div>  -->\r\n    </div>\r\n</template>\r\n<script>\r\nimport { isPhone } from '@/utils';\r\nimport { keepMutiInfo } from '@/api/lineViewsFromRokiApp';\r\nimport { getVerCode,login,getUserInfo } from '@/api/WebLoginRoki';\r\nimport {setAccessToken,setRefreshToken} from '@/utils/auth';\r\nexport default  {\r\n    name:'login',\r\n    components:{  \r\n       \r\n       \r\n    },\r\n    data() {\r\n        return {\r\n            phone:'',\r\n            vercode:'',\r\n            isDisabled: false,\r\n            codeText: '获取验证码',\r\n            checked:false,\r\n        }\r\n    },\r\n    mounted(){\r\n        window.scrollTo(0,0);\r\n        console.log(this.$route.query);\r\n         //location='https://apps.apple.com/cn/app/roki%E6%99%BA%E8%83%BD%E7%83%B9%E9%A5%AA%E5%8A%A9%E6%89%8B/id972641888';\r\n    },\r\n    methods:{\r\n        // skiptest(){\r\n        //     this.$router.go(-1);\r\n        // },\r\n        //获取验证码\r\n        getVerCode(){\r\n            let phone=this.phone.trim();\r\n            if(!phone){\r\n                this.$toast('请输入手机号');\r\n                return\r\n            }\r\n            if(!isPhone(phone)){\r\n                this.$toast('手机号有误');\r\n                return\r\n            }\r\n             //初始化倒计时时长\r\n            this.countDown(60);\r\n            //发送验证码\r\n            getVerCode({phone}).then(res=>{\r\n                //console.log('res',res)                 \r\n                this.$toast('发送验证码成功');                \r\n            })\r\n        },\r\n        //渲染验证码倒计时\r\n        countDown(time) {\r\n            if (time == 0) {\r\n                this.isDisabled = false\r\n                this.codeText = '获取验证码'\r\n            } else {\r\n                this.isDisabled = true\r\n                this.codeText = `${time}s后重新获取`\r\n                time--\r\n                setTimeout(() => {\r\n                this.countDown(time)\r\n                }, 1000)\r\n            }\r\n        },\r\n        //点击登录\r\n        gotoLogin(){\r\n            let phone=this.phone.trim();\r\n            let vercode=this.vercode.trim();\r\n            if(!phone){\r\n                this.$toast('请输入手机号');\r\n                return\r\n            }\r\n            if(!isPhone(phone)){\r\n                this.$toast('手机号有误');\r\n                return\r\n            }\r\n            if(!vercode){\r\n                this.$toast('请输入验证码');\r\n                return\r\n            }\r\n            if(vercode.length!=6||!(/^\\d+$/.test(vercode))){\r\n                this.$toast('验证码有误');\r\n                return\r\n            }\r\n            if(!this.checked){\r\n                this.$toast('请勾选协议');\r\n                return\r\n            }\r\n            // var data= new FormData();\r\n            // data.append('loginType','mobileSmsCode');\r\n            // data.append('sjhm',phone);\r\n            // data.append('smsCode',vercode);\r\n            // data.append('password','');\r\n            // data.append('accessToken','');\r\n            //  data.append('refreshToken','');\r\n            //   data.append('openId','');\r\n            //    data.append('client_id','roki_h5_client');\r\n            //     //data.append('client_id','roki_client');\r\n            //     data.append('client_secret','test');\r\n            //      data.append('appType','RWWEX');\r\n            const data={\r\n                loginType:'mobileSmsCode',\r\n                sjhm:phone,\r\n                smsCode:vercode,\r\n                password:'',\r\n                accessToken:'',\r\n                refreshToken:'',\r\n                openId:'',\r\n                client_id:'roki_h5_client',\r\n                client_secret:'test',\r\n                appType:'RWWEX'\r\n            }\r\n            login(data).then(res=>{\r\n                //console.log('res---登录---',res);\r\n                if(res.access_token){\r\n                     this.$toast('登录成功');\r\n                     const date=new Date(new Date().getTime()+res.expires_in*1000);\r\n                     setAccessToken(res.access_token,date);\r\n                     setRefreshToken(res.refresh_token,180);\r\n                     const token=`bearer ${res.access_token}`;\r\n                     this.getUserInfo(token);\r\n                }\r\n            })\r\n\r\n        },\r\n        getUserInfo(token){\r\n            getUserInfo(token).then(res=>{\r\n                //console.log('用互信息',res)\r\n                const {lastLabel,mutiId}=this.$route.query;\r\n                localStorage.setItem('userInfoke',JSON.stringify(res.user));\r\n                const {id}=res.user;\r\n                //从多段详情跳转到登录\r\n                if(lastLabel==='keepMuti'){\r\n                    //保存多段烹饪到roki登录\r\n                    keepMutiInfo(mutiId,{userId:id}).then(res=>{\r\n                        //console.log('res---保存多段---',res);\r\n                        this.$toast('保存多段信息成功');\r\n                        this.$router.go(-1)\r\n                    })  \r\n                }else if(lastLabel==='goReward'){\r\n                    //从抽盲盒页面到roki登录--点击我的奖品\r\n                    this.$router.replace(`/myRewards/${id}`);\r\n                }else if(lastLabel==='backLottery'){\r\n                    this.$router.go(-1);\r\n                }else{\r\n                    this.$router.go(-1);\r\n                }\r\n            \r\n                 \r\n            })\r\n        }\r\n        // redir(){\r\n        //     location='https://apps.apple.com/cn/app/roki%E6%99%BA%E8%83%BD%E7%83%B9%E9%A5%AA%E5%8A%A9%E6%89%8B/id972641888';\r\n        // }\r\n    },\r\n}\r\n</script>\r\n<style lang='scss' scoped>\r\ninput:-webkit-autofill {\r\n    -webkit-box-shadow: 0 0 0px 1000px white inset !important;\r\n}\r\n.title{\r\n   text-align:left;\r\n    font-size: 24px;\r\n    font-family: PingFang SC-Bold, PingFang SC;\r\n    font-weight: bold;\r\n    color: #222222;\r\n    margin:0px 28px 74px;\r\n    line-height: 28px;\r\n    padding-top: 73px;\r\n}\r\n .phone,.code{\r\n        margin: 0 28px;\r\n        // height: 60px;\r\n        border-bottom: 1px solid #E5E5E5;\r\n        font-size: 16px;\r\n        font-family: PingFang SC;\r\n        font-weight: 500;\r\n        color: #333333;\r\n    }\r\n    .code{\r\n        display: flex;\r\n        justify-content: space-between;\r\n        align-items: center;\r\n    }\r\n    .phone .phone-input{\r\n        width: 100%;\r\n        border: none;\r\n        padding: 19px 0;\r\n        outline: none;\r\n    }\r\n    .code .veri-input{\r\n        border: none;\r\n        padding: 19px 0;\r\n        outline: none;\r\n        flex: 1;\r\n    }\r\n    .code .veri-btn{\r\n        width: 130px;\r\n        height: 30px;\r\n        background: rgba(239, 206, 23, 0.1);\r\n        border-radius: 15px;\r\n        border: none;\r\n        font-size: 14px;\r\n        font-family: PingFang SC;\r\n        font-weight: 500;\r\n        color: #EFAA17;\r\n        flex: 0 0 130px;\r\n        outline: none;\r\n        text-align: center;\r\n    }\r\n    .login-btn{\r\n        width: 90%;\r\n        height: 45px;\r\n        background: #F2B33E;\r\n        border-radius: 22px;\r\n        font-size: 16px;\r\n        font-family: PingFang SC;\r\n        font-weight: 500;\r\n        color: #fff;\r\n        line-height:45px;\r\n        text-align:center;\r\n        margin: 35px auto 20px;\r\n        outline: none;\r\n        border: none;\r\n    }\r\n    .code .disabled-style{\r\n        background-color:#b3b3b3;\r\n        color:#fff;\r\n    }\r\n    .protol-box{\r\n        font-size: 12px;\r\n        font-family: PingFang SC;\r\n        font-weight: 400;\r\n        color: #333333;\r\n        margin-left: 43px;\r\n        display:flex;\r\n        //justify-content: center;\r\n        align-items: center;\r\n    }\r\n    .protol{\r\n        color: #EFAA17;\r\n    }\r\n    .keep-btn{\r\n    padding:35px 28px 20px;\r\n    font-size: 17px;\r\n    font-family: Roboto-Regular, Roboto;\r\n    font-weight: 400;\r\n    }\r\n\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/views/webLoginRoki/index.vue","var render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  return _c(\"div\", [\n    _vm._m(0),\n    _vm._v(\" \"),\n    _c(\"div\", { staticClass: \"phone\" }, [\n      _c(\"input\", {\n        directives: [\n          {\n            name: \"model\",\n            rawName: \"v-model\",\n            value: _vm.phone,\n            expression: \"phone\"\n          }\n        ],\n        staticClass: \"phone-input\",\n        attrs: {\n          autocomplete: \"off\",\n          type: \"tel\",\n          name: \"sjhm\",\n          placeholder: \"请输入手机号(新号码自动注册)\",\n          maxlength: \"11\",\n          id: \"mobileVal\"\n        },\n        domProps: { value: _vm.phone },\n        on: {\n          input: function($event) {\n            if ($event.target.composing) {\n              return\n            }\n            _vm.phone = $event.target.value\n          }\n        }\n      })\n    ]),\n    _vm._v(\" \"),\n    _c(\"div\", { staticClass: \"code\" }, [\n      _c(\"input\", {\n        directives: [\n          {\n            name: \"model\",\n            rawName: \"v-model\",\n            value: _vm.vercode,\n            expression: \"vercode\"\n          }\n        ],\n        staticClass: \"veri-input\",\n        attrs: {\n          placeholder: \"请输入验证码\",\n          autocomplete: \"off\",\n          maxlength: \"6\",\n          id: \"verifyVal\"\n        },\n        domProps: { value: _vm.vercode },\n        on: {\n          input: function($event) {\n            if ($event.target.composing) {\n              return\n            }\n            _vm.vercode = $event.target.value\n          }\n        }\n      }),\n      _vm._v(\" \"),\n      _c(\"input\", {\n        staticClass: \"veri-btn\",\n        class: { \"disabled-style\": _vm.isDisabled },\n        attrs: { disabled: _vm.isDisabled, readonly: \"\" },\n        domProps: { value: _vm.codeText },\n        on: { click: _vm.getVerCode }\n      })\n    ]),\n    _vm._v(\" \"),\n    _c(\"div\", { staticClass: \"login-box\" }, [\n      _c(\n        \"div\",\n        { staticClass: \"keep-btn\" },\n        [\n          _c(\n            \"van-button\",\n            {\n              staticStyle: { \"font-size\": \"17px\", \"font-weight\": \"400\" },\n              attrs: { color: \"#F2B33E\", size: \"large\", round: true },\n              on: { click: _vm.gotoLogin }\n            },\n            [_vm._v(\"登录\")]\n          )\n        ],\n        1\n      )\n    ]),\n    _vm._v(\" \"),\n    _c(\n      \"div\",\n      { staticClass: \"protol-box\" },\n      [\n        _c(\"van-checkbox\", {\n          attrs: { \"icon-size\": \"14px\" },\n          model: {\n            value: _vm.checked,\n            callback: function($$v) {\n              _vm.checked = $$v\n            },\n            expression: \"checked\"\n          }\n        }),\n        _vm._v(\" \"),\n        _vm._m(1)\n      ],\n      1\n    )\n  ])\n}\nvar staticRenderFns = [\n  function() {\n    var _vm = this\n    var _h = _vm.$createElement\n    var _c = _vm._self._c || _h\n    return _c(\"div\", { staticClass: \"title\" }, [\n      _vm._v(\"你好，\"),\n      _c(\"br\"),\n      _vm._v(\"欢迎登录ROKI\")\n    ])\n  },\n  function() {\n    var _vm = this\n    var _h = _vm.$createElement\n    var _c = _vm._self._c || _h\n    return _c(\"div\", { staticStyle: { \"margin-left\": \"6px\" } }, [\n      _c(\"span\", [_vm._v(\"已阅读并同意\")]),\n      _c(\"span\", { staticClass: \"protol\" }, [\n        _c(\n          \"a\",\n          {\n            attrs: {\n              href: \"https://h5.myroki.com/userAgreement/userNotice.html\"\n            }\n          },\n          [_vm._v(\"《ROKI用户协议》\")]\n        )\n      ]),\n      _vm._v(\"和\"),\n      _c(\"span\", { staticClass: \"protol\" }, [\n        _c(\n          \"a\",\n          {\n            attrs: {\n              href: \"https://h5.myroki.com/userAgreement/registerAgreement.html\"\n            }\n          },\n          [_vm._v(\"《隐私政策》\")]\n        )\n      ])\n    ])\n  }\n]\nrender._withStripped = true\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\nif (module.hot) {\n  module.hot.accept()\n  if (module.hot.data) {\n    require(\"vue-hot-reload-api\")      .rerender(\"data-v-4f5b068d\", esExports)\n  }\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-4f5b068d\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/views/webLoginRoki/index.vue\n// module id = null\n// module chunks = ","var disposed = false\nfunction injectStyle (ssrContext) {\n  if (disposed) return\n  require(\"!!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-4f5b068d\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./index.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./index.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./index.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-4f5b068d\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./index.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-4f5b068d\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\nComponent.options.__file = \"src/views/webLoginRoki/index.vue\"\n\n/* hot reload */\nif (module.hot) {(function () {\n  var hotAPI = require(\"vue-hot-reload-api\")\n  hotAPI.install(require(\"vue\"), false)\n  if (!hotAPI.compatible) return\n  module.hot.accept()\n  if (!module.hot.data) {\n    hotAPI.createRecord(\"data-v-4f5b068d\", Component.options)\n  } else {\n    hotAPI.reload(\"data-v-4f5b068d\", Component.options)\n  }\n  module.hot.dispose(function (data) {\n    disposed = true\n  })\n})()}\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/webLoginRoki/index.vue\n// module id = null\n// module chunks = ","import { regularReq } from '@/utils/request';\r\n// const host = 'http://develop.api.myroki.com'\r\nexport function getMutiDetail(id){\r\n    return regularReq({\r\n        url: `/rest/cks/api/multi/${id}`,\r\n        method: 'get'\r\n    })\r\n}\r\nexport function getRandomRecipe(data){\r\n    return regularReq({\r\n        url: '/rest/cks/api/cookbook/by-tag-other/get/cooks',\r\n        method: 'post',\r\n        data\r\n    })\r\n}\r\n\r\nexport function keepMutiInfo(id,data){\r\n    return regularReq({\r\n        url: `/rest/cks/api/multi/share/${id}`,\r\n        method: 'post',\r\n        data\r\n    })\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/api/lineViewsFromRokiApp.js","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../node_modules/css-loader/index.js?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index.js?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-4f5b068d\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../node_modules/sass-loader/dist/cjs.js?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector.js?type=styles&index=0!./index.vue\");\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar update = require(\"!../../../node_modules/vue-style-loader/lib/addStylesClient.js\")(\"085bac9c\", content, false, {});\n// Hot Module Replacement\nif(module.hot) {\n // When the styles change, update the <style> tags\n if(!content.locals) {\n   module.hot.accept(\"!!../../../node_modules/css-loader/index.js?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index.js?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-4f5b068d\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../node_modules/sass-loader/dist/cjs.js?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector.js?type=styles&index=0!./index.vue\", function() {\n     var newContent = require(\"!!../../../node_modules/css-loader/index.js?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index.js?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-4f5b068d\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../node_modules/sass-loader/dist/cjs.js?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector.js?type=styles&index=0!./index.vue\");\n     if(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n     update(newContent);\n   });\n }\n // When the module is disposed, remove the <style> tags\n module.hot.dispose(function() { update(); });\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-style-loader!./node_modules/css-loader?{\"sourceMap\":true}!./node_modules/vue-loader/lib/style-compiler?{\"vue\":true,\"id\":\"data-v-4f5b068d\",\"scoped\":true,\"hasInlineConfig\":false}!./node_modules/sass-loader/dist/cjs.js?{\"sourceMap\":true}!./node_modules/vue-loader/lib/selector.js?type=styles&index=0!./src/views/webLoginRoki/index.vue\n// module id = iGrh\n// module chunks = 9"],"sourceRoot":""}